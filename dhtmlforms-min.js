YAHOO.DHTMLForms=function(){return{currentZindex:9000,selects:[],currentOpen:false,closeOthers:function(){console.log("closeOthers fired...");if(this.currentOpen){console.log("Select Open: "+this.currentOpen);this.selects[this.currentOpen].activate()}}}}();YAHOO.DHTMLForms.SelectBox=function(B,A){this.config={open:false};this.element=$(B);this.fieldType="select";if(!this.element){return false}this.onSelect=new YAHOO.util.CustomEvent("onselect",this);this.onShow=new YAHOO.util.CustomEvent("onshow",this);this.onHide=new YAHOO.util.CustomEvent("onhide",this);this.onDestroy=new YAHOO.util.CustomEvent("ondestroy",this);this.onDrawError=new YAHOO.util.CustomEvent("ondrawerror",this)};YAHOO.DHTMLForms.SelectBox.prototype.render=function(){this.element._rendered=true;this.id=(YAHOO.DHTMLForms.selects.length);YAHOO.DHTMLForms.selects[YAHOO.DHTMLForms.selects.length]=this;this.wrapperid="yui_wrap_"+this.element.id;this.topcontid="yui_"+this.element.id;this.topid="yui_top_"+this.element.id;this.menuid="yui_menu_"+this.element.id;var B=this.element.options.selectedIndex;var A=this.element.options[this.element.options.selectedIndex].innerHTML;var C=$T.create("div",{id:this.wrapperid},[$T.create("div",{id:this.topcontid,className:"yui_select"},[$T.create("a",{id:this.topid,href:"#"},A),$T.create("div",{id:this.menuid,className:"yui_selectlist",style:"visibility: hidden; position: absolute;"},[$T.create("ul",function(G,H){var D=[];var F=G.element.getElementsByTagName("option");for(var E=0;E<F.length;E++){D[D.length]=$T.create("li",{name:E,className:((E==H)?" selected":"")},[$T.create("a",F[E].innerHTML)])}G.config.lis=D;return D}(this,B))])])]);this.element.parentNode.insertBefore(C,this.element);C.appendChild(this.element);this.config.container=new YAHOO.widget.Overlay(this.menuid,{visible:false,context:[this.topcontid,"tl","bl"]});this.config.container.render(document.body);this.config.select=new YAHOO.widget.Overlay(this.topcontid,{visible:true,context:[this.element,"tl","tl"]});this.config.select.render(document.body);$D.setStyle(this.element,"visibility","hidden");$E.addListener(this.topcontid,"click",this.activate,this,true);$E.addListener(this.config.lis,"click",this.select,this,true)};YAHOO.DHTMLForms.SelectBox.prototype.destroy=function(){if(this.element._rendered){this.element._rendered=false;this.config.container.destroy();this.config.select.destroy();$D.setStyle(this.element,"visibility","visible");this.onDestroy.fire()}};YAHOO.DHTMLForms.SelectBox.prototype.drawError=function(A){console.log("drawError: "+A);$D.addClass([this.element,this.topcontid],"yui_error");this.onDrawError.fire()};YAHOO.DHTMLForms.SelectBox.prototype.clearError=function(){$D.removeClass([this.element,this.topcontid],"yui_error");this.onDrawError.fire()};YAHOO.DHTMLForms.SelectBox.prototype.activate=function(A){console.log("Activate.."+$D.getStyle(this.menuid,"height"));if(this.config.open){this.onHide.fire();YAHOO.DHTMLForms.currentOpen=false;this.config.container.hide();this.config.open=false;$E.removeListener(document,"keyup",this._keyPress)}else{this.onShow.fire();YAHOO.DHTMLForms.closeOthers();YAHOO.DHTMLForms.currentZindex++;this.config.container.cfg.setProperty("context",[this.topcontid,"tl","bl"]);this.config.container.cfg.setProperty("zIndex",YAHOO.DHTMLForms.currentZindex);YAHOO.DHTMLForms.currentOpen=this.id;this.config.container.show();this.config.open=true;$E.addListener(document,"keyup",this._keyPress,this,true);this.config.start_item=this.element.options.selectedIndex}if(A){$E.stopEvent(A)}};YAHOO.DHTMLForms.SelectBox.prototype.select=function(C,A){var A=((!C)?A:$E.getTarget(C));var B=A.parentNode.getAttribute("name");console.log("Select.."+B);$(this.element).options.selectedIndex=B;$D.replaceClass(this.config.lis,"selected","");var D=document.createTextNode(A.innerHTML);$(this.topid).innerHTML="";$(this.topid).appendChild(D);$D.addClass(A.parentNode,"selected");if(C){this.activate();$E.stopEvent(C)}this.onSelect.fire()};YAHOO.DHTMLForms.SelectBox.prototype._keyPress=function(E){var A=$(this.menuid);var F=E.keyCode;console.log("Keypress.."+F);switch(F){case 40:this._selectMove("down");break;case 38:this._selectMove("up");break;case 13:this.activate();break;case 27:var C=this.config.lis;var B=null;for(var D=0;D<C.length;D++){if(C[D].getAttribute("name")==this.config.start_item){B=C[D].firstChild;break}}if(B){this.select("",B)}this.activate();break}};YAHOO.DHTMLForms.SelectBox.prototype._selectMove=function(D){var A=$(this.menuid);var G=$(this.topid).innerHTML;var C=this.config.lis;var B=false;for(var E=0;E<C.length;E++){if(C[E]){if(C[E].firstChild){if(C[E].firstChild.innerHTML==G){if(D=="up"){if((E-1)>=0){if(C[E-1]){B=C[E-1];break}}}else{if(C[E+1]){B=C[E+1];break}}}}}}if(B){var F=document.createTextNode(B.firstChild.innerHTML);$(this.topid).innerHTML="";$(this.topid).appendChild(F);$D.replaceClass(this.config.lis,"selected","");$D.addClass(B,"selected");this.select("",B.firstChild)}};YAHOO.DHTMLForms.TextInput=function(B,A){this.config={eventType:((A)?A:"click")};this.element=$(B);this.fieldType=this.element.tagName.toLowerCase();if(this.fieldType=="input"){this.fieldType=this.element.getAttribute("type").toLowerCase()}this.onBlur=new YAHOO.util.CustomEvent("onblur",this);this.onFocus=new YAHOO.util.CustomEvent("onfocus",this);this.onDestroy=new YAHOO.util.CustomEvent("ondestroy",this);this.onDrawError=new YAHOO.util.CustomEvent("ondrawerror",this)};YAHOO.DHTMLForms.TextInput.prototype.render=function(){this.element._rendered=true;console.log("TextInput.render()");this.wrapperid="yui_wrap_"+this.element.id;this.topcontid="yui_"+this.element.id;console.log("this.wrapperid: "+this.wrapperid);console.log("this.topcontid: "+this.topcontid);var B=$T.create("div",{id:this.wrapperid},[$T.create("div",{id:this.topcontid,style:((this.fieldType=="textarea")?"overflow: auto;":"overflow: hidden;"),className:"yui_textinput"})]);this.element.parentNode.insertBefore(B,this.element);B.appendChild(this.element);$D.addClass(this.element,"ytextinput");this.config.container=new YAHOO.widget.Overlay(this.topcontid,{visible:true,context:[this.element,"tl","tl"],height:$D.getStyle(this.element,"height"),width:$D.getStyle(this.element,"width"),iframe:true});if(this.element.value){var A=this._fixData();this.config.container.setBody(A)}this.config.container.render(document.body);$D.setStyle(this.element,"visibility","hidden");$E.addListener(this.topcontid,this.config.eventType,this._handleClick,this,true)};YAHOO.DHTMLForms.TextInput.prototype.destroy=function(){if(this.element._rendered){this.element._rendered=false;if(this.config.container){this.config.container.destroy()}$D.setStyle(this.element,"visibility","visible");this.onDestroy.fire()}};YAHOO.DHTMLForms.TextInput.prototype.drawError=function(A){console.log("drawError: "+A);$D.addClass([this.element,this.topcontid],"yui_error");this.onDrawError.fire()};YAHOO.DHTMLForms.TextInput.prototype.clearError=function(){$D.removeClass([this.element,this.topcontid],"yui_error");this.onDrawError.fire()};YAHOO.DHTMLForms.TextInput.prototype._handleClick=function(A){this.onFocus.fire();console.log("Clicked");$E.stopEvent(A);this.config.container.hide();$D.setStyle(this.element,"visibility","visible");$E.addListener(this.element,"blur",this._handleBlur,this,true);this.element.focus()};YAHOO.DHTMLForms.TextInput.prototype._fixData=function(){switch(this.fieldType){case"textarea":var A=this.element.value;break;case"password":var A=$T.stringRepeat("*",this.element.value.length);break;default:var A=$T.removeQuotes(this.element.value);this.element.value=A;break}return A};YAHOO.DHTMLForms.TextInput.prototype._handleBlur=function(A){this.onBlur.fire();var B=this._fixData();this.config.container.setBody(B);this.config.container.show();$D.setStyle(this.element,"visibility","hidden")};YAHOO.DHTMLForms.CheckBox=function(A){this.config={};this.element=$(A);this.fieldType="checkbox";this.onFocus=new YAHOO.util.CustomEvent("onfocus",this);this.onDestroy=new YAHOO.util.CustomEvent("ondestroy",this)};YAHOO.DHTMLForms.CheckBox.prototype.render=function(){this.element._rendered=true;console.log("CheckBox.render(): "+this.element.id);this.wrapperid="yui_wrap_"+this.element.id;this.topcontid="yui_"+this.element.id;console.log("this.wrapperid: "+this.wrapperid);console.log("this.topcontid: "+this.topcontid);var A=$T.create("div",{id:this.topcontid,className:"yui_checkbox"});document.body.appendChild(A);$D.addClass(this.element,"ycontrol");this.config.container=new YAHOO.widget.Overlay(this.topcontid,{visible:true,context:[this.element,"tl","tl"],iframe:true});this.config.container.render(document.body);if(this.element.checked){$D.addClass(this.topcontid,"yui_checkbox_checked")}$E.addListener([this.element,this.topcontid],"click",this._handleClick,this,true)};YAHOO.DHTMLForms.CheckBox.prototype.destroy=function(){if(this.element._rendered){this.element._rendered=false;this.config.container.destroy();$D.setStyle(this.element,"visibility","visible");$D.removeClass(this.element,"ycontrol");this.onDestroy.fire()}};YAHOO.DHTMLForms.CheckBox.prototype._handleClick=function(A){console.log("CheckBox::_handleClick(): "+this.element.checked);this.onFocus.fire();if($E.getTarget(A).id==this.topcontid){this.element.checked=((this.element.checked)?false:true)}if(this.element.checked){$D.addClass(this.topcontid,"yui_checkbox_checked")}else{$D.removeClass(this.topcontid,"yui_checkbox_checked")}};YAHOO.DHTMLForms.RadioButtons=function(A){this.config={container:[]};this.fieldType="radio";this.elements=$(A);this.element={};this.topcontid=[];this.onFocus=new YAHOO.util.CustomEvent("onfocus",this);this.onDestroy=new YAHOO.util.CustomEvent("ondestroy",this)};YAHOO.DHTMLForms.RadioButtons.prototype.render=function(){console.log("RadioButtons.render(): "+this.elements);$D.addClass(this.elements,"ycontrol");this.element._rendered=true;for(var A=0;A<this.elements.length;A++){this.topcontid[A]="yui_"+this.elements[A].id;this.elements[A]._rendered=true;console.log("this.topcontid["+A+"]: "+this.topcontid[A]);var B=$T.create("div",{id:this.topcontid[A],className:"yui_radiobutton"});document.body.appendChild(B);this.config.container[A]=new YAHOO.widget.Overlay(this.topcontid[A],{visible:true,context:[this.elements[A],"tl","tl"],iframe:true});this.config.container[A].render(document.body);if(this.elements[A].checked){$D.addClass(this.topcontid[A],"yui_radiobutton_checked")}$E.addListener(this.topcontid[A],"click",this._handleClick,this,true)}$E.addListener(this.elements,"click",this._handleClick,this,true)};YAHOO.DHTMLForms.RadioButtons.prototype.destroy=function(){for(var A=0;A<this.config.container.length;A++){if(this.elements[A]._rendered){this.config.container[A].destroy();this.elements[A]._rendered=false}}if(this.element._rendered){this.element._rendered=false;$D.setStyle(this.elements,"visibility","visible");$D.removeClass(this.elements,"ycontrol");this.onDestroy.fire()}};YAHOO.DHTMLForms.RadioButtons.prototype._handleClick=function(B){console.log("RadioButton::_handleClick()");this.onFocus.fire();$D.removeClass(this.topcontid,"yui_radiobutton_checked");for(var A=0;A<this.elements.length;A++){console.log("Checking: "+this.elements[A].id+" ("+this.elements[A].checked+")");if($E.getTarget(B).id==this.topcontid[A]){this.elements[A].checked=true}if(this.elements[A].checked==true){$D.addClass(this.topcontid[A],"yui_radiobutton_checked")}}};YAHOO.DHTMLForms.Form=function(A){this.config={fields:[]};this.element=$(A);this.getElements();this.onDestroy=new YAHOO.util.CustomEvent("ondestroy",this)};YAHOO.DHTMLForms.Form.prototype.render=function(){console.log("Form.render(): "+this.element.id);for(var A=0;A<this.config.fields.length;A++){if(!this.config.fields[A].element._rendered){this.config.fields[A].render()}}};YAHOO.DHTMLForms.Form.prototype._renderType=function(A){console.log("Form._renderType("+A+")");for(var B=0;B<this.config.fields.length;B++){console.log(this.config.fields[B].fieldType);if(this.config.fields[B].fieldType==A){if(!this.config.fields[B].element._rendered){this.config.fields[B].render()}}}};YAHOO.DHTMLForms.Form.prototype.renderSelectBoxes=function(){console.log("Form.renderSelectBoxes()");this._renderType("select")};YAHOO.DHTMLForms.Form.prototype.renderCheckBoxes=function(){console.log("Form.renderCheckBoxes()");this._renderType("checkbox")};YAHOO.DHTMLForms.Form.prototype.renderRadioButtons=function(){console.log("Form.renderRadioButtons()");this._renderType("radio")};YAHOO.DHTMLForms.Form.prototype.renderTextInputs=function(){console.log("Form.renderTextInputs()");this._renderType("text");this._renderType("textarea");this._renderType("password")};YAHOO.DHTMLForms.Form.prototype.renderTextInputsOnly=function(){console.log("Form.renderTextInputsOnly()");this._renderType("text")};YAHOO.DHTMLForms.Form.prototype.renderTextAreas=function(){console.log("Form.renderTextAreas()");this._renderType("textarea")};YAHOO.DHTMLForms.Form.prototype.renderPasswords=function(){console.log("Form.renderPasswords()");this._renderType("password")};YAHOO.DHTMLForms.Form.prototype.destroy=function(){for(var A=0;A<this.config.fields.length;A++){this.config.fields[A].destroy()}this.onDestroy.fire()};YAHOO.DHTMLForms.Form.prototype._destroyType=function(A){console.log("Form._destroyType("+A+")");for(var B=0;B<this.config.fields.length;B++){console.log(this.config.fields[B].fieldType);if(this.config.fields[B].fieldType==A){this.config.fields[B].destroy()}}};YAHOO.DHTMLForms.Form.prototype.destroySelectBoxes=function(){console.log("Form.destroySelectBoxes()");this._destroyType("select")};YAHOO.DHTMLForms.Form.prototype.destroyCheckBoxes=function(){console.log("Form.destroyCheckBoxes()");this._destroyType("checkbox")};YAHOO.DHTMLForms.Form.prototype.destroyRadioButtons=function(){console.log("Form.destroyRadioButtons()");this._destroyType("radio")};YAHOO.DHTMLForms.Form.prototype.destroyTextInputs=function(){console.log("Form.destroyTextInputs()");this._destroyType("text");this._destroyType("textarea");this._destroyType("password")};YAHOO.DHTMLForms.Form.prototype.destroyTextInputsOnly=function(){console.log("Form.destroysTextInputsOnly()");this._destroyType("text")};YAHOO.DHTMLForms.Form.prototype.destroyTextAreas=function(){console.log("Form.destroyTextAreas()");this._destroyType("textarea")};YAHOO.DHTMLForms.Form.prototype.destroyPasswords=function(){console.log("Form.destroyPasswords()");this._destroyType("password")};YAHOO.DHTMLForms.Form.prototype.getElements=function(){console.log("Form.getElements()");console.log("Select Boxes..");this.selects=this.element.getElementsByTagName("select");for(var F=0;F<this.selects.length;F++){var C=new YAHOO.DHTMLForms.SelectBox(this.selects[F]);this.config.fields[this.config.fields.length]=C}console.log("Form Inputs..");this.inputs=this.element.getElementsByTagName("input");for(var F=0;F<this.inputs.length;F++){switch(this.inputs[F].getAttribute("type").toLowerCase()){case"text":case"password":console.log("Form Inputs (Text).."+this.inputs[F].id);var B=new YAHOO.DHTMLForms.TextInput(this.inputs[F]);this.config.fields[this.config.fields.length]=B;break;case"checkbox":console.log("Form Inputs (Checkbox).."+this.inputs[F].id);var H=new YAHOO.DHTMLForms.CheckBox(this.inputs[F]);this.config.fields[this.config.fields.length]=H;break}}console.log("Text Areas..");this.textareas=this.element.getElementsByTagName("textarea");for(var F=0;F<this.textareas.length;F++){var E=new YAHOO.DHTMLForms.TextInput(this.textareas[F]);this.config.fields[this.config.fields.length]=E}console.log("Radio Buttons..");this.radios={};for(var F=0;F<this.inputs.length;F++){var G=this.inputs[F].getAttribute("type").toLowerCase();if(G=="radio"){var D=this.inputs[F].getAttribute("name");if(!this.radios[D]){this.radios[D]=[]}this.radios[D][this.radios[D].length]=this.inputs[F].id}}for(var F in this.radios){console.log("Radio Group: "+F);var A=new YAHOO.DHTMLForms.RadioButtons(this.radios[F]);this.config.fields[this.config.fields.length]=A}};if(!console){var console={log:function(A){}}};